<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy 5th Anniversary ‚Äî Anwesha & Ananda</title>
  <meta name="description" content="A romantic 5th anniversary page for Anwesha & Ananda ‚Äî elegant, animated, and music-driven."/>
  <style>
    /* ---------- Variables & Base ---------- */
    :root{
      --bg:#0a0e1a;
      --card:#0d1b2a;
      --glass: rgba(255,255,255,0.05);
      --glass-2: rgba(255,255,255,0.02);
      --accent:#ff8fab;
      --accent-2:#ffd6e8;
      --muted:#a6b6c8;
      --gold:#f6c76e;
      --rose:#ffb3d9;
      --max-width:1200px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
      background:#0a0e1a;
      color:#eef2f8;
      -webkit-font-smoothing:antialiased;
      overflow-x:hidden;
    }

    /* ---------- Animated gradient background ---------- */
    body{
      background:
        radial-gradient(circle 800px at 20% 30%, rgba(255,143,171,0.08), transparent 50%),
        radial-gradient(circle 600px at 80% 70%, rgba(246,199,110,0.06), transparent 50%),
        radial-gradient(circle 500px at 50% 50%, rgba(155,230,216,0.04), transparent 50%),
        linear-gradient(180deg, #0a0e1a 0%, #1a1f2e 100%);
      animation: bgShift 15s ease-in-out infinite alternate;
    }
    @keyframes bgShift{
      0%{background-position:0% 0%}
      100%{background-position:100% 100%}
    }

    /* ---------- Floating hearts background ---------- */
    .floating-hearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:1;
      overflow:hidden;
    }
    .heart{
      position:absolute;
      font-size:24px;
      opacity:0;
      animation:floatHeart 12s ease-in infinite;
      color:var(--rose);
      filter:drop-shadow(0 0 8px rgba(255,179,217,0.4));
    }
    @keyframes floatHeart{
      0%{transform:translateY(100vh) rotate(0deg);opacity:0}
      10%{opacity:0.7}
      90%{opacity:0.5}
      100%{transform:translateY(-20vh) rotate(360deg);opacity:0}
    }
    .heart:nth-child(1){left:10%;animation-delay:0s;animation-duration:14s}
    .heart:nth-child(2){left:25%;animation-delay:2s;animation-duration:11s;font-size:18px}
    .heart:nth-child(3){left:40%;animation-delay:4s;animation-duration:13s}
    .heart:nth-child(4){left:60%;animation-delay:1s;animation-duration:15s;font-size:20px}
    .heart:nth-child(5){left:75%;animation-delay:3s;animation-duration:12s}
    .heart:nth-child(6){left:85%;animation-delay:5s;animation-duration:16s;font-size:22px}
    .heart:nth-child(7){left:50%;animation-delay:6s;animation-duration:10s}
    .heart:nth-child(8){left:20%;animation-delay:7s;animation-duration:14s;font-size:19px}

    /* ---------- Sparkle overlay ---------- */
    .sparkles{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:2;
      background-image:
        radial-gradient(2px 2px at 20% 30%, white, transparent),
        radial-gradient(2px 2px at 60% 70%, white, transparent),
        radial-gradient(1px 1px at 50% 50%, white, transparent),
        radial-gradient(1px 1px at 80% 10%, white, transparent),
        radial-gradient(2px 2px at 90% 60%, white, transparent),
        radial-gradient(1px 1px at 33% 50%, white, transparent),
        radial-gradient(1px 1px at 66% 30%, white, transparent);
      background-size:200% 200%;
      background-position:50% 50%;
      opacity:0.3;
      animation:sparkle 8s ease-in-out infinite alternate;
    }
    @keyframes sparkle{
      0%{opacity:0.2;background-position:0% 0%}
      100%{opacity:0.4;background-position:100% 100%}
    }

    /* ---------- Container / Card ---------- */
    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:40px 20px;
      position:relative;
      z-index:10;
    }
    .card{
      width:100%;
      max-width:var(--max-width);
      background:linear-gradient(135deg,rgba(255,255,255,0.08),rgba(255,255,255,0.02));
      border-radius:24px;
      padding:40px;
      display:grid;
      grid-template-columns:1.2fr 1fr;
      gap:40px;
      border:1px solid rgba(255,255,255,0.1);
      backdrop-filter:blur(20px);
      box-shadow:0 30px 60px rgba(0,0,0,0.5), 0 0 80px rgba(255,143,171,0.1);
      position:relative;
      overflow:hidden;
      animation:cardEntrance 1s ease-out;
    }
    @keyframes cardEntrance{
      from{opacity:0;transform:translateY(40px) scale(0.95)}
      to{opacity:1;transform:translateY(0) scale(1)}
    }

    /* Card glow effect */
    .card::before{
      content:'';
      position:absolute;
      top:-50%;
      left:-50%;
      width:200%;
      height:200%;
      background:radial-gradient(circle, rgba(255,143,171,0.15), transparent 70%);
      animation:glow 10s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes glow{
      0%,100%{transform:translate(0,0)}
      50%{transform:translate(20px,20px)}
    }

    /* ---------- Left content ---------- */
    .left{position:relative;z-index:5}
    .left h1{
      margin:0;
      font-size:38px;
      font-weight:700;
      background:linear-gradient(135deg, var(--gold), var(--accent));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
      line-height:1.2;
      margin-bottom:12px;
      animation:titleGlow 3s ease-in-out infinite alternate;
    }
    @keyframes titleGlow{
      0%{filter:drop-shadow(0 0 10px rgba(246,199,110,0.3))}
      100%{filter:drop-shadow(0 0 20px rgba(255,143,171,0.5))}
    }
    .left .sub{
      color:var(--muted);
      margin-top:8px;
      font-size:15px;
      line-height:1.6;
    }
    .highlight{
      color:var(--accent);
      font-weight:700;
    }
    .message{
      margin-top:24px;
      background:linear-gradient(135deg,rgba(255,255,255,0.06),rgba(255,255,255,0.02));
      padding:24px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,0.08);
      color:#f7f9fc;
      line-height:1.8;
      font-size:15px;
      box-shadow:inset 0 2px 10px rgba(0,0,0,0.2);
      position:relative;
      overflow:hidden;
    }
    .message::before{
      content:'‚ùù';
      position:absolute;
      top:10px;
      left:10px;
      font-size:48px;
      color:rgba(255,143,171,0.2);
      font-family:serif;
    }

    .controls{
      margin-top:24px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
    }
    .btn{
      padding:14px 24px;
      border-radius:12px;
      border:0;
      font-weight:700;
      cursor:pointer;
      background:linear-gradient(135deg,var(--accent),#ff6c92);
      color:#fff;
      box-shadow:0 10px 25px rgba(255,108,146,0.3);
      transition:all 0.3s ease;
      font-size:14px;
      position:relative;
      overflow:hidden;
    }
    .btn::before{
      content:'';
      position:absolute;
      top:50%;
      left:50%;
      width:0;
      height:0;
      border-radius:50%;
      background:rgba(255,255,255,0.3);
      transform:translate(-50%,-50%);
      transition:width 0.6s,height 0.6s;
    }
    .btn:hover::before{
      width:300px;
      height:300px;
    }
    .btn:hover{
      transform:translateY(-2px);
      box-shadow:0 15px 35px rgba(255,108,146,0.4);
    }
    .btn.ghost{
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(255,255,255,0.2);
      box-shadow:none;
    }
    .btn.ghost:hover{
      background:rgba(255,255,255,0.05);
      color:var(--accent-2);
      border-color:var(--accent);
    }
    .btn:disabled{
      opacity:0.6;
      cursor:not-allowed;
    }

    /* ---------- Right column (avatar + gallery) ---------- */
    .right{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:20px;
      position:relative;
      z-index:5;
    }
    .avatar{
      width:200px;
      height:200px;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:64px;
      font-weight:800;
      color:var(--accent-2);
      background:conic-gradient(from 200deg, rgba(255,143,171,0.2), rgba(246,199,110,0.2), rgba(255,143,171,0.2));
      border:6px solid rgba(255,255,255,0.1);
      box-shadow:0 20px 40px rgba(255,143,171,0.2), inset 0 2px 10px rgba(255,255,255,0.1);
      position:relative;
      animation:avatarPulse 4s ease-in-out infinite;
    }
    @keyframes avatarPulse{
      0%,100%{transform:scale(1);box-shadow:0 20px 40px rgba(255,143,171,0.2)}
      50%{transform:scale(1.05);box-shadow:0 25px 50px rgba(255,143,171,0.4)}
    }
    .avatar::before{
      content:'';
      position:absolute;
      inset:-10px;
      border-radius:50%;
      background:linear-gradient(45deg,transparent,rgba(255,143,171,0.3),transparent);
      animation:rotate 6s linear infinite;
      z-index:-1;
    }
    @keyframes rotate{
      from{transform:rotate(0deg)}
      to{transform:rotate(360deg)}
    }

    .meta{
      font-weight:700;
      text-align:center;
      font-size:18px;
      color:var(--accent-2);
    }
    .meta small{
      display:block;
      color:var(--muted);
      margin-top:8px;
      font-size:14px;
      font-weight:400;
    }

    /* ---------- Gallery carousel ---------- */
    .gallery{
      width:100%;
      display:flex;
      gap:16px;
      flex-direction:column;
      align-items:center;
    }
    .carousel{
      width:100%;
      border-radius:16px;
      overflow:hidden;
      border:2px solid rgba(255,255,255,0.1);
      background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      box-shadow:0 15px 35px rgba(0,0,0,0.3);
      position:relative;
    }
    .carousel::before{
      content:'';
      position:absolute;
      inset:0;
      background:linear-gradient(135deg,transparent,rgba(255,143,171,0.1),transparent);
      opacity:0;
      transition:opacity 0.5s;
      pointer-events:none;
      z-index:2;
    }
    .carousel:hover::before{
      opacity:1;
    }
    .carousel img{
      width:100%;
      height:280px;
      object-fit:cover;
      display:block;
      transition:transform 0.5s ease;
    }
    .carousel:hover img{
      transform:scale(1.05);
    }
    .thumbs{
      display:flex;
      gap:10px;
      padding:0;
      flex-wrap:wrap;
      justify-content:center;
    }
    .thumbs img{
      width:80px;
      height:64px;
      object-fit:cover;
      border-radius:10px;
      cursor:pointer;
      border:3px solid transparent;
      transition:all 0.3s ease;
      box-shadow:0 4px 12px rgba(0,0,0,0.3);
    }
    .thumbs img:hover{
      transform:translateY(-4px) scale(1.05);
      box-shadow:0 8px 20px rgba(255,143,171,0.3);
    }
    .thumbs img.active{
      border-color:var(--accent);
      box-shadow:0 0 20px rgba(255,143,171,0.6);
    }

    /* ---------- Balloons ---------- */
    .balloon{
      position:fixed;
      width:50px;
      height:65px;
      border-radius:50% 50% 46% 46%;
      opacity:0;
      transform-origin:center bottom;
      z-index:100;
      box-shadow:inset -10px -10px 20px rgba(0,0,0,0.2), 0 10px 30px rgba(0,0,0,0.3);
    }
    .balloon:after{
      content:'';
      position:absolute;
      left:50%;
      bottom:-28px;
      width:2px;
      height:26px;
      background:rgba(255,255,255,0.3);
      transform:translateX(-50%);
    }
    .balloon.pop{
      animation:pop 400ms ease-out forwards;
    }
    @keyframes pop{
      0%{transform:scale(1);opacity:1}
      100%{transform:scale(2) rotate(-40deg);opacity:0}
    }

    /* DJ lights overlay */
    .dj{
      position:fixed;
      inset:0;
      pointer-events:none;
      mix-blend-mode:screen;
      z-index:50;
      opacity:0;
      transition:opacity 0.5s;
    }
    .dj.active{
      opacity:1;
    }
    .spark{
      position:absolute;
      width:300px;
      height:300px;
      border-radius:50%;
      filter:blur(80px);
      opacity:0;
      transition:opacity 0.3s;
    }
    .dj.active .spark{
      opacity:0.15;
    }

    /* Confetti canvas */
    canvas#confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:150;
    }

    /* ---------- Responsive ---------- */
    @media (max-width:900px){
      .card{
        grid-template-columns:1fr;
        gap:32px;
        padding:30px 20px;
      }
      .carousel img{height:220px}
      .right{order:-1}
      .left h1{font-size:30px}
      .avatar{width:160px;height:160px;font-size:52px}
      .controls{justify-content:center}
    }

    /* Note styling */
    .note{
      margin-top:20px;
      color:var(--muted);
      font-size:12px;
      line-height:1.6;
      padding:12px;
      background:rgba(255,255,255,0.02);
      border-radius:8px;
      border-left:3px solid var(--accent);
    }
    .note code{
      background:rgba(255,255,255,0.1);
      padding:2px 6px;
      border-radius:4px;
      font-family:monospace;
      color:var(--accent-2);
    }
  </style>
</head>
<body>
  <!-- Floating hearts background -->
  <div class="floating-hearts" aria-hidden="true">
    <div class="heart">üíï</div>
    <div class="heart">üíñ</div>
    <div class="heart">üíó</div>
    <div class="heart">üíù</div>
    <div class="heart">üíï</div>
    <div class="heart">üíñ</div>
    <div class="heart">üíó</div>
    <div class="heart">üíù</div>
  </div>

  <!-- Sparkles overlay -->
  <div class="sparkles" aria-hidden="true"></div>

  <!-- DJ lights (colored gradient blobs) -->
  <div class="dj" id="djLights" aria-hidden="true">
    <div class="spark" style="left:10%;top:10%;background:radial-gradient(circle,#ff9ab8 0%,transparent 70%);"></div>
    <div class="spark" style="right:12%;top:25%;background:radial-gradient(circle,#ffd68a 0%,transparent 70%);"></div>
    <div class="spark" style="left:35%;bottom:8%;background:radial-gradient(circle,#9be6d8 0%,transparent 70%);"></div>
    <div class="spark" style="right:40%;top:50%;background:radial-gradient(circle,#bda6ff 0%,transparent 70%);"></div>
  </div>

  <!-- Confetti canvas -->
  <canvas id="confetti"></canvas>

  <div class="wrap">
    <div class="card" role="region" aria-label="Anniversary card">

      <!-- LEFT: message / controls -->
      <div class="left">
        <h1>Happy 5th Anniversary<br><span class="highlight">Anwesha & Ananda</span></h1>
        <div class="sub">A romantic wish from a loving brother ‚Äî celebrating five beautiful years of togetherness.</div>

        <div class="message" id="message">
          Dear Didi and Jamaybabu,<br><br>
          Five years of laughter, shared dreams and quiet support ‚Äî may your bond grow deeper with each day. Wishing you endless joy and togetherness.
          <br><br>
          From the earliest memories to the quiet evenings you share, your love has always been an example of devotion and companionship. On this fifth anniversary, I wish you deeper understanding, brighter days, and a lifetime of joy. May love continue to guide you both.
          <br><br>
          Love always,<br>
          <strong>Your brother</strong>
        </div>

        <div class="controls">
          <button class="btn" id="playBtn">üéµ Play Celebration</button>
          <button class="btn ghost" id="copyBtn">üìã Copy Message</button>
        </div>

        <!-- <div class="note">
          üí° <strong>Tip:</strong> Click "Play Celebration" to start the music, balloons, confetti, and magical effects! 
          This page works entirely in your browser with no external files needed.
        </div> -->
      </div>

      <!-- RIGHT: avatar + gallery -->
      <div class="right">
        <div class="avatar" aria-label="Anwesha and Ananda initials">A&A</div>
        <div class="meta">üíï Anwesha üíû Ananda üíï<small>‚ú® 5 Years of Togetherness ‚ú®</small></div>

        <!-- Gallery carousel with real photos -->
        <div class="gallery">
          <div class="carousel" id="carousel">
            <img src="" alt="Anniversary Photo" id="heroImg" />
          </div>
          <div class="thumbs" id="thumbs"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* ---------- Utilities ---------- */
    function $(s){return document.querySelector(s)}
    function $all(s){return Array.from(document.querySelectorAll(s))}

    /* ---------- Photo Data (Base64 placeholders - will be replaced by uploaded images) ---------- */
    const photos = [
      {src: "./gallery/1000342551.jpg", alt: 'Together forever'},
      {src: "./gallery/14888.jpg", alt: 'Festival photo'},
      {src: "./gallery/3c4c2f66.jpg", alt: 'Special occasion'},
      {src: "./gallery/1000342549.jpg", alt: 'Celebration moment'},
      {src: "./gallery/14882.jpg", alt: 'Wedding celebration'},
    ];

    /* ---------- Initialize Gallery ---------- */
    (function initGallery(){
      const hero = $('#heroImg');
      const thumbsCtr = $('#thumbs');
      
      // Set first photo as hero
      hero.src = photos[0].src;
      hero.alt = photos[0].alt;
      
      // Create thumbnails
      photos.forEach((photo, idx) => {
        const thumb = document.createElement('img');
        thumb.src = photo.src;
        thumb.alt = photo.alt;
        thumb.dataset.index = idx;
        if(idx === 0) thumb.classList.add('active');
        
        thumb.addEventListener('click', () => {
          $all('#thumbs img').forEach(t => t.classList.remove('active'));
          thumb.classList.add('active');
          hero.src = photo.src;
          hero.alt = photo.alt;
        });
        
        thumbsCtr.appendChild(thumb);
      });
    })();

    /* ---------- Confetti Engine ---------- */
    (function(){
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      let W = canvas.width = innerWidth, H = canvas.height = innerHeight;
      const pieces = [];
      
      function rand(min,max){return Math.random()*(max-min)+min}
      
      function Piece(){
        this.x = rand(0,W);
        this.y = rand(-H,0);
        this.vx = rand(-2,2);
        this.vy = rand(2,5);
        this.size = rand(6,14);
        this.color = `hsl(${~~rand(0,360)},85%,65%)`;
        this.rotation = rand(0,360);
        this.rotationSpeed = rand(-5,5);
      }
      
      Piece.prototype.update = function(){
        this.x += this.vx;
        this.y += this.vy;
        this.rotation += this.rotationSpeed;
        if(this.y > H+20){
          this.y = -10;
          this.x = rand(0,W);
        }
      }
      
      Piece.prototype.draw = function(){
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rotation * Math.PI/180);
        ctx.fillStyle = this.color;
        ctx.fillRect(-this.size/2, -this.size/2, this.size, this.size);
        ctx.restore();
      }
      
      function populate(n=150){
        for(let i=0;i<n;i++) pieces.push(new Piece());
      }
      
      function loop(){
        ctx.clearRect(0,0,W,H);
        for(const p of pieces){
          p.update();
          p.draw();
        }
        requestAnimationFrame(loop);
      }
      
      addEventListener('resize',()=>{
        W = canvas.width = innerWidth;
        H = canvas.height = innerHeight;
      });
      
      populate(150);
      loop();
      
      window.confettiBurst = function(count=60){
        for(let i=0;i<count;i++){
          pieces.push(new Piece());
        }
      }
    })();

    /* ---------- Balloons Launch & Pop ---------- */
    function launchBalloons(){
      const colors = ['#ff9ab8','#ffd68a','#9be6d8','#bda6ff','#ffb3e0','#f6c76e'];
      
      for(let i=0;i<16;i++){
        const el = document.createElement('div');
        el.className = 'balloon';
        const size = 40 + Math.random()*30;
        el.style.width = size+'px';
        el.style.height = (size*1.3)+'px';
        el.style.left = (5 + Math.random()*90)+'%';
        el.style.bottom = '-50px';
        el.style.background = colors[i % colors.length];
        
        el.animate([
          {transform:'translateY(0) rotate(0deg)', opacity:1},
          {transform:`translateY(-${100 + Math.random()*20}vh) rotate(${360*Math.random()}deg)`, opacity:1}
        ], {
          duration: 8000 + Math.random()*4000,
          iterations: 1,
          easing: 'cubic-bezier(.17,.67,.83,.67)'
        });
        
        document.body.appendChild(el);
        
        setTimeout(() => popBalloon(el), 5500 + Math.random()*3000);
      }
    }
    
    function popBalloon(el){
      if(!el || !el.parentNode) return;
      el.classList.add('pop');
      setTimeout(() => {
        if(el.parentNode) el.remove();
      }, 420);
    }

    /* ---------- Romantic Melody (WebAudio) ---------- */
    const playBtn = $('#playBtn');
    let audioCtx = null;
    let masterGain = null;
    
    function createCtx(){
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      masterGain = audioCtx.createGain();
      masterGain.gain.value = 0.15;
      masterGain.connect(audioCtx.destination);
    }

    function playRomanticMelody(){
      if(!audioCtx) createCtx();
      
      const now = audioCtx.currentTime;
      
      // Soft ambient pad
      const pad = audioCtx.createOscillator();
      const padGain = audioCtx.createGain();
      pad.type = 'sine';
      pad.frequency.value = 220;
      padGain.gain.value = 0.015;
      pad.connect(padGain);
      padGain.connect(masterGain);
      pad.start(now);
      pad.stop(now + 25);

      // Romantic melody sequence
      const melody = [
        {freq: 523.25, time: 0.2, dur: 0.8},   // C5
        {freq: 587.33, time: 1.1, dur: 0.8},   // D5
        {freq: 659.25, time: 2.0, dur: 1.0},   // E5
        {freq: 587.33, time: 3.2, dur: 0.6},   // D5
        {freq: 523.25, time: 4.0, dur: 1.2},   // C5
        {freq: 440.00, time: 5.4, dur: 0.8},   // A4
        {freq: 493.88, time: 6.4, dur: 0.8},   // B4
        {freq: 523.25, time: 7.4, dur: 1.5},   // C5
        {freq: 659.25, time: 9.1, dur: 0.8},   // E5
        {freq: 698.46, time: 10.1, dur: 0.8},  // F5
        {freq: 783.99, time: 11.1, dur: 1.2},  // G5
        {freq: 659.25, time: 12.5, dur: 1.0},  // E5
        {freq: 587.33, time: 13.7, dur: 0.8},  // D5
        {freq: 523.25, time: 14.7, dur: 1.5},  // C5
      ];

      melody.forEach(note => {
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = 'triangle';
        osc.frequency.value = note.freq;
        gain.gain.value = 0.0001;
        osc.connect(gain);
        gain.connect(masterGain);
        
        const startTime = now + note.time;
        const endTime = startTime + note.dur;
        
        osc.start(startTime);
        gain.gain.exponentialRampToValueAtTime(0.08, startTime + 0.05);
        gain.gain.exponentialRampToValueAtTime(0.0001, endTime - 0.1);
        osc.stop(endTime);
      });

      // Bell chimes for sparkle
      [1.5, 3.5, 6.0, 9.5, 12.0, 15.0].forEach(t => {
        const bell = audioCtx.createOscillator();
        const bellGain = audioCtx.createGain();
        bell.type = 'sine';
        bell.frequency.value = 1046.5; // C6
        bellGain.gain.value = 0.0001;
        bell.connect(bellGain);
        bellGain.connect(masterGain);
        
        const bellTime = now + t;
        bell.start(bellTime);
        bellGain.gain.exponentialRampToValueAtTime(0.06, bellTime + 0.02);
        bellGain.gain.exponentialRampToValueAtTime(0.0001, bellTime + 1.2);
        bell.stop(bellTime + 1.2);
      });

      // Confetti bursts synced with music
      let bursts = 0;
      const confettiInterval = setInterval(() => {
        window.confettiBurst(40);
        bursts++;
        if(bursts > 8) clearInterval(confettiInterval);
      }, 1200);
    }

    /* ---------- Play Button Interaction ---------- */
    playBtn.addEventListener('click', async () => {
      try {
        if(!audioCtx) createCtx();
        if(audioCtx.state === 'suspended') await audioCtx.resume();
        
        // Start celebration
        playRomanticMelody();
        launchBalloons();
        window.confettiBurst(100);
        
        // Activate DJ lights
        $('#djLights').classList.add('active');
        
        // DJ light pulse animation
        $all('.spark').forEach((spark, i) => {
          spark.animate([
            {opacity: 0.05, transform: 'scale(1)'},
            {opacity: 0.25, transform: 'scale(1.2)'},
            {opacity: 0.05, transform: 'scale(1)'}
          ], {
            duration: 1000 + Math.random()*500,
            iterations: 12,
            delay: i * 150
          });
        });
        
        // Animate card
        $('.card').animate([
          {transform: 'scale(1)'},
          {transform: 'scale(1.02)'},
          {transform: 'scale(1)'}
        ], {
          duration: 600,
          iterations: 3,
          easing: 'ease-in-out'
        });
        
        // Update button
        playBtn.textContent = 'üíñ Celebrating Love! üíñ';
        playBtn.disabled = true;
        
        setTimeout(() => {
          playBtn.textContent = '‚ú® Celebration Complete';
        }, 16000);
        
      } catch(e) {
        console.warn('Playback failed:', e);
        playBtn.textContent = '‚ùå Audio Error';
      }
    });

    /* ---------- Copy Message ---------- */
    $('#copyBtn').addEventListener('click', async () => {
      const text = `Happy 5th Anniversary ‚Äî Anwesha & Ananda\n\n` + 
        $('#message').innerText.trim();
      
      try {
        await navigator.clipboard.writeText(text);
        $('#copyBtn').textContent = '‚úÖ Copied!';
        setTimeout(() => $('#copyBtn').textContent = 'üìã Copy Message', 2000);
      } catch(e) {
        const ta = document.createElement('textarea');
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        ta.remove();
        $('#copyBtn').textContent = '‚úÖ Copied!';
        setTimeout(() => $('#copyBtn').textContent = 'üìã Copy Message', 2000);
      }
    });

    /* ---------- Keyboard Shortcut (P for Play) ---------- */
    addEventListener('keydown', (ev) => {
      if(ev.key.toLowerCase() === 'p' && !playBtn.disabled) {
        playBtn.click();
      }
    });

    /* ---------- Auto-rotate carousel (optional) ---------- */
    let autoRotateInterval = null;
    function startAutoRotate() {
      let currentIndex = 0;
      autoRotateInterval = setInterval(() => {
        currentIndex = (currentIndex + 1) % photos.length;
        const thumbs = $all('#thumbs img');
        thumbs.forEach(t => t.classList.remove('active'));
        thumbs[currentIndex].classList.add('active');
        $('#heroImg').src = photos[currentIndex].src;
      }, 4000);
    }
    
    // Uncomment to enable auto-rotation:
    // startAutoRotate();
    
    // Stop auto-rotation when user clicks a thumbnail
    $all('#thumbs img').forEach(thumb => {
      thumb.addEventListener('click', () => {
        if(autoRotateInterval) {
          clearInterval(autoRotateInterval);
          autoRotateInterval = null;
        }
      });
    });

  </script>

  <!--
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    ANNIVERSARY WEBSITE - USAGE INSTRUCTIONS
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    
    Dear User,
    
    This is a self-contained anniversary celebration website.
    Everything works entirely in your browser - no external files needed!
    
    TO ADD YOUR REAL PHOTOS:
    The current photos are placeholder SVGs. To use your actual photos:
    
    1. Convert your 6 photos to base64 format using an online converter
       (search for "image to base64 converter")
    
    2. Replace the photo data in the 'photos' array (around line 450)
       with your base64 strings like this:
       
       {src: 'data:image/jpeg;base64,/9j/4AAQSkZJRg...', alt: 'Description'}
    
    3. OR simply upload the photos to a folder and reference them:
       {src: 'images/photo1.jpg', alt: 'Description'}
    
    FEATURES:
    ‚ú® Click "Play Celebration" to start music, balloons, and confetti
    ‚ú® Floating hearts background animation
    ‚ú® DJ lights that flicker with the music
    ‚ú® Interactive photo gallery carousel
    ‚ú® Glass-morphism design with romantic colors
    ‚ú® Fully responsive for mobile and desktop
    ‚ú® Copy message button for easy sharing
    
    TO UPLOAD TO GITHUB:
    1. Save this file as "index.html"
    2. Create a new repository on GitHub
    3. Upload this single HTML file
    4. Enable GitHub Pages in repository settings
    5. Share the link: https://yourusername.github.io/repo-name/
    
    Enjoy celebrating love! üíï
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  --> Anwesha & Ananda</span> üíû